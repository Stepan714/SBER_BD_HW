## Multi-modal Stardog
---
### История развития:
1. Иерархическая модель данных
2. Сетевая модель данных
3. Реляционная модель данных
4. Объектно-ориентированные
5. XML и NoSQL
6. Многомодальные СУБД

Многомодальные базы данных, например, Stardog, представляют собой новое поколение баз данных, которые обрабатывают не только структурированные данные, но и полуструктурированные и неструктурированные данные, такие как: текст, изображения, аудио и видео.
<image src="../images/stardog.png">

----
### Инструменты взаимодействия с Stardog
1. Stardog Studio
<image src="./images/stardog_web1.png">
Нужно подтвердить почту для Stardog Cloud и далее перейти в Stardog Studio
<image src="./images/stardog_web2.png">
2. Stardog CLI
<image src="./images/stardog_cli.png">
3. Java API
4. Stardog HTTP API

Я буду пользоваться первым вариантом, поэтому прикрепляю фото именно про него.

----
### Какой database engine используется в Stardog:
Stardog использует графовую СУБД, которая основана на семантических технологиях. В основе графовой СУБД лежит графовая модель данных, в которой данные представлены в виде вершин и ребер между этими вершинами. Это позволяет эффективно моделировать и работать с данными, имеющими сложные взаимосвязи и структуры

Вершины рассматриваем как узлы, ребра - как связи.

----
### Как устроен язык запрос в Stardog:
Язык запросов в Stardog называется SPARQL
Создаем БД в виде ttl файла (я создал books.ttl):
<image src="./images/stardog_ttl.png">
Далее загружаем этот файл в Stardog Studio (либо можно через CLI, если вы пользуетесь этим способом). После пишем запрос на языке SPARQL:
<image src="./images/stardog_query.png">

---
### Распределение файлов БД по разным носителям в STARDOG

Stardog не поддерживает распределение данных по разным физическим носителям, таким как разные диски или сервера. Вместо этого, Stardog работает как одиночный узел или кластер, в котором данные хранятся и обрабатываются локально на узле или узлах кластера. Поэтому для улучшения производительности и отказоустойчивости можно использовать кластеризацию Stardog.

---
### На каком языке написан Stardog:
В источниках написано, что используется: Java, Kotlin и другие технологии на основе JVM (Java Virtual Machine)
На гитхабе:
<image src="./images/stardog_lan.png">

---
### Типы поддерживаемых индексов:
1. Текстовый индекс (Full-Text Indexing):
Используется для быстрого и эффективного выполнения поисковых запросов по текстовым данным, таким как названия сущностей, описания и т. д.
2. RDF-индекс:
Используется для индексации RDF-троек и быстрого выполнения запросов на основе RDF, включая SPARQL-запросы.
3. Географический индекс (Geospatial Index):
Предназначен для индексации географических данных, таких как координаты и геометрические формы, для выполнения запросов, связанных с геолокацией и геоаналитикой.
4. Тематический индекс (Faceted Index):
Используется для создания фасетных иерархий и улучшения поиска и навигации по семантическим данным.
5. Индекс временных данных (Temporal Index):
Для индексации данных, связанных с временем, и выполнения запросов, касающихся временных интервалов и исторических данных.


В документации нет инструкции по созданию индекса через SPARQL, однако индекс можно создать используя Java или CLI, подключаясь к нашей существующей БД, вот пример создания индекса для my_databas, которую я определил в файле books.ttl:

```
stardog-admin db create -o index.fulltext.enabled=true -o index.fulltext.fields=title,author
```
---
### Построение процесса выполнения запроса в Stardog и План запроса:

Вот ссылка на документацию по данному вопросу: https://docs.stardog.com/operating-stardog/server-administration/process-management

Сделаем summary:
- Подготовка запроса: Запрос обрабатывается клиентским приложением или интерфейсом пользователя, затем отправляется на сервер Stardog.
- Анализ запроса: Сервер Stardog анализирует запрос, определяя его тип и структуру, проверяя синтаксис и семантику. В этом этапе также происходит оптимизация запроса для повышения эффективности выполнения.
- Планирование запроса: На основе анализа запроса сервер Stardog разрабатывает план выполнения запроса, определяя порядок выполнения операций, выбирая индексы и оптимизируя доступ к данным.
- Выполнение запроса: Сервер Stardog выполняет запрос, выполняя операции, указанные в плане выполнения. Это может включать поиск данных в базе данных, объединение результатов, фильтрацию, сортировку и другие операции.
- Форматирование результатов: После выполнения запроса сервер Stardog форматирует результаты и отправляет их обратно клиентскому приложению или интерфейсу пользователя в соответствии с требованиями запроса.

---
### Транзакции в Stardog:
Documentation: https://docs.stardog.com/operating-stardog/database-administration/transactions
Stardog поддерживает транзакции. Ключевые особенности транзакций в Stardog:
- Atomicity
- Consistency
- Isolation
- Durability

---
### Резервное копирование и восстановление:
Documentation: https://docs.stardog.com/operating-stardog/server-administration/backup-and-restore

Stardog поддерживает функциональность резервного копирования / восстановления для всей системы за один шаг с помощью команд ```stardog-admin server backup``` и ```stardog-admin server restore```. Эта функциональность удобна, когда необходимо создать резервную копию и восстановить все базы данных одновременно.

Причем важно учитывать это:
Для резервного копирования на сервере требуется столько же места на диске, сколько и для производственных данных. Рекомендуется указывать путь к независимому тому хранилища, но не к тому же тому, что и для производственных данных. Можно завершить работу Stardog, заполнив том хранилища, содержащий производственные данные.

И само восстановление сервера: ```export STARDOG_HOME=/path/to/empty/stardog/home``` и
```stardog-admin server restore /path/to/server/backup```

---
### Шардинг в Stardog:
Шардинг (sharding) в Stardog - это процесс горизонтального разделения данных и их распределения по нескольким узлам или узлам кластера. Целью шардинга является повышение производительности и масштабируемости базы данных за счет распределения данных между несколькими серверами.

Как происходит Шардинг в Stardog:
1. Выбор ключа шардинга: При создании базы данных в Stardog необходимо выбрать ключ шардинга. Этот ключ определяет, как данные будут распределены между узлами хранения.
2. Разделение данных: После выбора ключа шардинга данные в базе данных автоматически разбиваются на шарды (shards) на основе значения ключа. Каждый шард содержит часть данных из базы данных и хранится на одном из узлов хранения.
3. Распределение шардов: Шарды распределяются между узлами хранения в кластере. Stardog автоматически заботится о том, чтобы шарды были равномерно распределены по узлам кластера для балансировки нагрузки и оптимальной производительности.
4. Маршрутизация запросов: При выполнении запросов к данным Stardog автоматически маршрутизирует запросы к соответствующим шардам на основе ключа шардинга. Это позволяет эффективно выполнять запросы к данным, распределенным по нескольким узлам кластера.
5. Управление шардингом: Stardog предоставляет инструменты для мониторинга производительности и нагрузки на узлы хранения, а также для масштабирования кластера путем добавления или удаления узлов при необходимости. Это позволяет эффективно управлять шардингом и обеспечивать отказоустойчивость и масштабируемость базы данных.

---
### Data Mining, Data Warehousing и OLAP:
#### Data Mining:
Stardog предоставляет мощные средства для анализа данных и извлечения знаний из RDF-графов. С помощью запросов SPARQL, встроенных функций и инструментов аналитики Stardog можно выполнять различные виды анализа данных, такие как кластеризация, классификация, ассоциативное извлечение правил и т. д.

#### Data Warehousing:
В Stardog можно создавать виртуальные и реальные хранилища данных, в которых объединяются данные из различных источников и представляются в виде RDF-графов. Эти хранилища могут содержать данные различных типов и форматов, включая структурированные данные, полуструктурированные данные и текстовые данные.

#### OLAP (Online Analytical Processing):
Stardog поддерживает аналитические запросы и операции, которые позволяют выполнять OLAP-анализ данных в RDF-графах. Это включает в себя агрегирование данных, группировку, фильтрацию, сортировку и другие операции для аналитической обработки данных в реальном времени.

---
### Методы защиты в Stardog:
#### Шифрование трафика:
Stardog поддерживает шифрование трафика между клиентами и сервером с использованием протоколов SSL/TLS. Это обеспечивает конфиденциальность и целостность данных во время их передачи по сети.
#### Модели авторизации и аутентификации:
Stardog интегрируется с различными методами аутентификации и авторизации, включая базовую аутентификацию, аутентификацию на основе токенов, LDAP, OAuth и другие. Доступ к данным и операциям в Stardog может быть управляем на основе ролей, разрешений и политик безопасности.
#### Аудит:
Stardog предоставляет возможности аудита для отслеживания действий пользователей, изменений данных и других событий в системе. Журнал аудита позволяет администраторам мониторить действия пользователей и обеспечивать соответствие политикам безопасности.
#### Внутренняя безопасность:
Stardog обеспечивает внутреннюю безопасность данных путем реализации механизмов защиты, таких как ограничение доступа к данным на уровне пользователя, роли, а также встроенные механизмы шифрования и хеширования для защиты конфиденциальной информации.
#### Контроль доступа:
Stardog позволяет администраторам управлять доступом к данным на уровне ресурсов, определяя права доступа к конкретным данным, запросам SPARQL и другим операциям в базе данных. Это позволяет организациям строить гибкие и масштабируемые модели контроля доступа к данным.

Так же документация (https://docs.stardog.com/operating-stardog/security/fine-grained-security)

---
### Развитие и существование Stardog:
Гитхаб StadogUnion: https://github.com/stardog-union
Stardog развивается как open-source проект с активным сообществом разработчиков и пользователей. Основным разработчиком и поддерживающей компанией является Stardog Union, Inc. Кроме того, существует активное сообщество разработчиков, включая как профессиональных разработчиков из Stardog Union, так и вкладывающих в проект любительских программистов и академических исследователей.

Участники сообщества могут вносить свои вклады в развитие проекта через GitHub, предлагая улучшения, исправления ошибок (pull requests), а также обсуждать идеи и проблемы в Issues. В проекте Stardog обычно существуют четкие правила для принятия изменений (contribution guidelines), которые определяют, какие виды изменений могут быть включены в основной репозиторий проекта.

Ответственность за коммиты и создание дистрибутивов версий обычно лежит на основной команде разработчиков Stardog Union, но они также принимают вклады от других участников сообщества, которые прошли процесс код-ревью и тестирования. Кроме того, есть лица, ответственные за управление проектом и принятие стратегических решений, такие как релизы и приоритеты разработки.

---
### Демонстрация своих данных:
Можно например взять такое:
```
@prefix ex: <http://example.org/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

ex:Book1 rdf:type ex:Book ;
         ex:title "War and Peace"@en ;
         ex:author ex:Tolstoy .

ex:Book2 rdf:type ex:Book ;
         ex:title "Crime and Punishment"@en ;
         ex:author ex:Dostoevsky .

ex:Tolstoy rdf:type ex:Author ;
           ex:name "Leo Tolstoy"@en .

ex:Dostoevsky rdf:type ex:Author ;
             ex:name "Fyodor Dostoevsky"@en .

```
Эти данные описывают две книги ("War and Peace" и "Crime and Punishment") с указанием их названий и авторов. Авторы также представлены в данных

### Примеры кода:
- Получить все книги и их авторов:
```
SELECT ?book ?title ?author
WHERE {
  ?book rdf:type ex:Book ;
        ex:title ?title ;
        ex:author ?author .
}

```
- Получить только книги, написанные автором "Leo Tolstoy":
```
SELECT ?book ?title
WHERE {
  ?book rdf:type ex:Book ;
        ex:title ?title ;
        ex:author ex:Tolstoy .
}
```
- Получить список всех авторов
```
SELECT ?author
WHERE {
  ?author rdf:type ex:Author ;
          ex:name ?name .
}
```

---
### Документация и обучение:
https://docs.stardog.com/
https://www.stardog.com/learn-stardog/

---
### Актуальная информация и новости
Twitter: https://twitter.com/stardoghq/
Facebook: https://www.facebook.com/login/?next=https%3A%2F%2Fwww.facebook.com%2FStardogUnion%2F

Связаться: sales@stardog.com









